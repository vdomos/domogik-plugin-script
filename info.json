{
    "json_version": 2,

    "identity": {
        "author": "domos", 
        "author_email": "domos pt vesta at gmail.com", 
        "tags": ["computer"], 
        "dependencies": [],
        "description": "Domogik Plugin for scripts", 
        "domogik_min_version": "0.4.0", 
        "name": "script", 
        "type": "plugin", 
        "version": "0.1"
    }, 

    "products" : [],

    "configuration": [],

    "device_types": {
        "script.action": {
            "id": "script.action",
            "description": "Script to execute a Action", 
            "name": "Script Action",
            "commands": ["cmd_script_action"],
            "sensors": ["sensor_script_action"],
            "parameters": [
                {
                    "key": "program",
                    "xpl": true,
                    "description": "Executable filename, including path and extension",
                    "type": "string"
                },
                {
                    "key": "arg",
                    "xpl": true,
                    "description": "Command line arguments or 'none'",
                    "type": "string",
                    "default" : "none"
                }
            ]
        },
        "script.info": {
            "id": "script.info",
            "description": "Script to read a Info (Number)", 
            "name": "Script Info",
            "commands": ["cmd_script_info"],
            "sensors": ["sensor_script_info"],
            "parameters": [
                {
                    "key": "program",
                    "xpl": true,
                    "description": "Executable filename, including path and extension",
                    "type": "string"
                },
                {
                    "key": "arg",
                    "xpl": true,
                    "description": "Command line arguments or 'none'",
                    "type": "string",
                    "default" : "none"
                }
            ]
        }
    },

    "commands": { 
        "cmd_script_action" : {
            "name" : "Cmd script action",
            "return_confirmation" : true,
            "parameters" : [
                {
                    "key" : "status",
                    "data_type" : "DT_Trigger",
                    "conversion" : "from_DT_Trigger_to_start"
                }
            ],
            "xpl_command" : "run_script_action"
        },
        "cmd_script_info" : {
            "name" : "Cmd script info",
            "return_confirmation" : true,
            "parameters" : [
                {
                    "key" : "status",
                    "data_type" : "DT_Trigger",
                    "conversion" : "from_DT_Trigger_to_start"
                }
            ],
            "xpl_command" : "run_script_info"
        }
    },


    "xpl_commands": {
        "run_script_action" : {
            "name": "Run script action",
            "schema": "exec.basic",
            "xplstat_name": "stat_script_action",
            "parameters": {
                "static": [
                        {
                            "key": "pid",
                            "value": "cmd_action"
                        }
                    ],
                "device": []
            }
        },
        "run_script_info" : {
            "name": "Run script info",
            "schema": "exec.basic",
            "xplstat_name": "stat_script_info",
            "parameters": {
                "static": [
                        {
                            "key": "pid",
                            "value": "cmd_info"
                        }
                    ],
                "device": []
            }
        }		
     }, 


    "xpl_stats": {
       "stat_script_action": {
            "name": "Stat script action",
            "schema": "exec.basic",
            "parameters": {
                "static": [
                        {
                            "key": "pid",
                            "value": "cmd_action"
                        }
                    ],
                "device": [],
                "dynamic": [
                    {
                         "key": "status",
                         "ignore_values": "",
                         "sensor": "sensor_script_action"
                    }
                ]
            }
       },
       "stat_script_info": {
            "name": "Stat script info",
            "schema": "exec.basic",
            "parameters": {
                "static": [
                        {
                            "key": "pid",
                            "value": "cmd_info"
                        }
                    ],
                "device": [],
                "dynamic": [
                    {
                         "key": "status",
                         "ignore_values": "",
                         "sensor": "sensor_script_info"
                    }
                ]
            }
       }
    },

    "sensors": {
        "sensor_script_action": {
            "name": "Sensor script action",
            "incremental" : false,
            "data_type": "DT_Trigger",
            "conversion": "from_executed_to_DT_Trigger",
            "timeout" : 0,
            "history": {
                "store": true,
                "duplicate" : true,
                "max": 0,
                "expire": 0,
                "round_value": 0
            }
        },
        "sensor_script_info": {
            "name": "Sensor script info",
            "incremental" : false,
            "data_type": "DT_Number",
            "conversion": "",
            "timeout" : 0,
            "history": {
                "store": true,
                "duplicate" : true,
                "max": 0,
                "expire": 0,
                "round_value": 0
            }
        }
    }
}